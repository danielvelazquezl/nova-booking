<%= render 'reports/tabs', id: 'registered_estates' %>
<table class="table table-striped table-hover w-100">
  <thead class="thead-light">
  <tr>
    <th class="text-center">Due√±o</th>
    <th class="text-center">Propiedad</th>
    <th class="text-center">Puntuaci&oacute;n</th>
    <th class="text-center">Tipo de propiedad</th>
    <th class="text-center">Direcci&oacute;n</th>
    <th class="text-center">Ciudad</th>
    <th class="text-center">Estado</th>
  </tr>
  </thead>
  <tbody>
  <% estates.each do |estate| %>
    <tr>
      <td class="text-center"><%= estate.owner_name %></td>
      <td class="text-center"><%= estate.name %></td>
      <td class="text-center">
        <% if estate.score > 0 %>
          <div class="text-right badge badge-pill badge-<%= get_score_color(estate.score.to_i) %>">
            <span><%= estate.score %></span>
          </div>
        <% else %>
          <div class="text-right badge badge-pill bg-gray">
            <span>Sin puntuaci&oacute;n</span>
          </div>
        <% end %>
        <td class="text-center"><%= estate.estate_type.text %></td>
        <td class="text-center"><%= estate.address %></td>
        <td class="text-center"><%= estate.city_name %></td>
        <td class="text-center">
          <% if estate.status %>
              <span class="badge badge-green float-center">
                <%= "Publicado" %>
              </span>
          <% else %>
              <span class="badge badge-warning float-center">
                <%= "No publicado" %>
              </span>
          <% end %>
        </td>
        </tr>
  <% end %>
  </tbody>
</table>

<div class="bg-footer"></div>
<div class="card card-columns-2 card-body bg-gray-light fixed-bottom">
  <div class="row row-flush">
    <div class="col">
      <%= will_paginate estates, renderer: WillPaginate::ActionView::BootstrapLinkRenderer %>
    </div>
    <div class="col">
      <%= page_entries_info estates, :model => 'estate', :class => 'align-middle' %>
    </div>
  </div>
</div>
